<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Debugging physics issues :: The Minie project</title>
    <link rel="canonical" href="https://stephengold.github.io/Minie/minie/minie-library-tutorials/debug.html">
    <link rel="prev" href="rbc.html">
    <link rel="next" href="character.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../_/css/site.css">
<meta property="og:image" content="../../_/img/iconx128.png">
<meta property="og:description" content="Debugging physics issues">
<meta property="og:title" content="The Minie project">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://stephengold.github.io/Minie">
        <img alt="" src="../../_/img/iconx128.png" width="32" type="image/x-icon" style="margin-right:16px">
        The Minie project
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Color themes</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" onclick="setTheme('canyon')">Canyon</a>
            <a class="navbar-item" onclick="setTheme('dark')">Dark</a>
            <a class="navbar-item" onclick="setTheme('jungle')">Jungle</a>
            <a class="navbar-item" onclick="setTheme('light')">Light</a>
            <a class="navbar-item" onclick="setTheme('pastel')">Pastel</a>
            <a class="navbar-item" onclick="setTheme('phosphor')">Phosphor</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="minie" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../overview.html">The Minie project</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../implementation.html">Implementation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Library tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="add.html">Add to existing project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rigidbody.html">Rigid bodies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="shape.html">Collision shapes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="rbc.html">RigidBodyControl</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="debug.html">Debugging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="character.html">Characters</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="vehicle.html">Vehicles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="new6dof.html">New6Dof joints</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dac.html">Ragdolls</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="detect.html">Collision detection</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="softbody.html">Soft bodies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="server.html">Physics without appstates</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="misc.html">Miscellany</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../build.html">Build procedures</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="https://github.com/stephengold/Minie">Git repository</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/releases/latest">Latest release</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/releases">Recent releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/blob/master/README.md">ReadMe file</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://raw.githubusercontent.com/stephengold/Minie/master/LICENSE">License</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/blob/master/MinieLibrary/release-notes.md">Release log</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/commits/master">Recent commits</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Minie/issues">Issue tracker</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="https://stephengold.github.io/Minie/javadoc/master">Library API</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Minie at other sites</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://hub.jmonkeyengine.org/c/user-code-projects/minie/63">JMonkeyEngine forum</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://bintray.com/stephengold/com.github.stephengold/Minie">Bintray</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://jitpack.io/#stephengold/Minie">JitPack</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://jmonkeystore.com/38308161-c3cf-4e23-8754-528ca8387c11">JmonkeyStore</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Related projects</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://jmonkeyengine.org">JMonkeyEngine</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Libbulletjme">Libbulletjme</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://pybullet.org/wordpress">Bullet</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/kmammou/v-hacd">V-HACD</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/Heart">Heart</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://jmonkeystore.com/4477514f-a3ae-4d42-b928-d3a62335159f">Advanced vehicles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://jmonkeystore.com/1a85df6f-4bb6-4c85-9e77-b5119662ed54">Blocks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://github.com/stephengold/antora-ui-bundle">Site UI</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">The Minie project</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">The Minie project</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../overview.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../overview.html">The Minie project</a></li>
    <li>Library tutorials</li>
    <li><a href="debug.html">Debugging</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/stephengold/Minie/edit/master/MinieLibrary/src/site/antora/tutorials/modules/minie-library-tutorials/pages/debug.adoc">Edit this page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Debugging physics issues</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>When a physics simulation doesn&#8217;t work as expected,
debug visualization (configured at the BulletAppState) should be enabled
to uncover gross issues such as incorrect collision shapes,
incorrect initial positions, bodies that have gone inactive,
and objects not added to the PhysicsSpace.</p>
</div>
<div class="paragraph">
<p>If further details are desired,
temporary print statements might be added at key points.
To streamline this process, Minie provides a configurable dumper
for app states, physics spaces, collision shapes, multibodies,
viewports, and scene graphs.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_debug_visualization_tips_and_tricks"><a class="anchor" href="#_debug_visualization_tips_and_tricks"></a>Debug visualization tips and tricks</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, debug visualization is disabled.
To enable it, configure the <code>BulletAppState</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">bulletAppState.setDebugEnabled(true);</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, debug visualization renders convex collision shapes using meshes
with up to 42 vertex locations.
Alternatively, it can generate debug meshes with up to 256 vertex locations.
To override the low-resolution default on a per-object basis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">collisionObject.setDebugMeshResolution(DebugShapeFactory.highResolution);</code></pre>
</div>
</div>
<div class="paragraph">
<p>(This setting is effective only if the object has a convex shape.)</p>
</div>
<div class="paragraph">
<p>Debug visualization caches the mesh
for every non-compound collision shape it renders.
To clear the debug-mesh cache:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">DebugShapeFactory.clearCache();</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, debug visualization renders only to the
application&#8217;s main <code>ViewPort</code>.
To specify a different <code>ViewPort</code> (or an array of viewports) use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">bulletAppState.setDebugViewPorts(viewPortArray);</code></pre>
</div>
</div>
<div class="paragraph">
<p>For a very simple example, see
<a href="https://github.com/stephengold/Minie/blob/master/MinieExamples/src/main/java/jme3utilities/minie/test/TestDebugToPost.java">TestDebugToPost</a>.</p>
</div>
<div class="sect2">
<h3 id="_customizing_what_is_visualized"><a class="anchor" href="#_customizing_what_is_visualized"></a>Customizing what is visualized</h3>
<div class="paragraph">
<p>By default, debug visualization visualizes the <strong>shape</strong> of every
<code>PhysicsCollisionObject</code>, but not its bounding box, gravity vector,
swept sphere, or velocity vector.
To override these defaults, set filters to indicate for which collision objects
each feature should be visualized:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">BulletDebugAppState.DebugAppStateFilter all = new FilterAll(true);
BulletDebugAppState.DebugAppStateFilter none = new FilterAll(false);
bulletAppState.setDebugBoundingBoxFilter(all);     // all bounding boxes
bulletAppState.setDebugGravityVectorFilter(none);  // no gravity vectors
bulletAppState.setDebugFilter(none);               // no collision shapes
bulletAppState.setDebugSweptSphereFilter(all);     // all swept spheres
bulletAppState.setDebugVelocityVectorFilter(none); // no velocity vectors</code></pre>
</div>
</div>
<div class="paragraph">
<p>By default, debug visualization doesn&#8217;t indicate
the centers and the local axes of collision objects.
To override this default, increase the axis length to a positive value:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">bulletAppState.setAxisLength(1f);</code></pre>
</div>
</div>
<div class="paragraph">
<p>If local axes are visualized, then by default the arrows are one pixel wide.
If your graphics driver supports it, you can specify wider arrows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">bulletAppState.setDebugAxisLineWidth(3f); // axis arrows 3 pixels wide</code></pre>
</div>
</div>
<div class="paragraph">
<p>or you can specify 3-D arrows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">bulletAppState.setDebugAxisLineWidth(0f); // solid arrows</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_the_materials"><a class="anchor" href="#_customizing_the_materials"></a>Customizing the materials</h3>
<div class="paragraph">
<p>By default, Minie visualizes the shapes of collision objects
using single-sided wireframe materials:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>yellow for any collision object without contact response,
which includes any <code>PhysicsGhostObject</code></p>
</li>
<li>
<p>magenta for a <code>PhysicsRigidBody</code> or <code>MultiBodyCollider</code>
(with contact response) that&#8217;s both dynamic and active</p>
</li>
<li>
<p>blue for a <code>PhysicsRigidBody</code> or <code>MultiBodyCollider</code>
(with contact response) that&#8217;s either static or kinematic or sleeping</p>
</li>
<li>
<p>pink for a <code>PhysicsCharacter</code> (with contact response)</p>
</li>
<li>
<p>red for a <code>PhysicsSoftBody</code> with faces</p>
</li>
<li>
<p>orange for a <code>PhysicsSoftBody</code> with links but no faces</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
On Android platforms,
the default debug materials are solid colors instead of wireframes.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Some collision objects are best visualized using double-sided materials.
You can override the single-sided default on a per-object basis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">collisionObject.setDebugNumSides(2);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>setDebugNumSides(0)</code> makes the object&#8217;s shape invisible
in debug visualization,
even if the object is selected by the debug filter.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If further customization is required, the debug material can be customized
on a per-object basis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">collisionObject.setDebugMaterial(myMaterial);</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>setDebugNumSides()</code> has no effect on custom debug materials.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_the_meshes"><a class="anchor" href="#_customizing_the_meshes"></a>Customizing the meshes</h3>
<div class="paragraph">
<p>The default debug materials
don&#8217;t need lighting, normals, or texture coordinates.
By default, debug visualization doesn&#8217;t provide these amenities.
However, a customized debug material might require them.</p>
</div>
<div class="paragraph">
<p>You can override the no-normals default on a per-object basis:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">collisionObject1.setDebugMeshNormals(DebugMeshNormals.Facet);
collisionObject2.setDebugMeshNormals(DebugMeshNormals.Smooth);
collisionObject3.setDebugMeshNormals(DebugMeshNormals.Sphere);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Generating index buffers for meshes usually reduces
the number of vertices that must be rendered.
However, generating index buffers for large meshes can take a long time.
By default, Minie doesn&#8217;t generate index buffers for debug meshes
that have more than 6,000 vertices.</p>
</div>
<div class="paragraph">
<p>You can tune this threshold:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">DebugShapeFactorysetIndexBuffers(900);</code></pre>
</div>
</div>
<div class="paragraph">
<p>The threshold has no effect on debug meshes previously generated.
To make this setting retroactive, clear the debug-mesh cache.</p>
</div>
</div>
<div class="sect2">
<h3 id="_callbacks_for_further_customization"><a class="anchor" href="#_callbacks_for_further_customization"></a>Callbacks for further customization</h3>
<div class="paragraph">
<p><code>BulletAppState</code> invokes a callback during initialization.
You can use this callback to provide lighting for debug visualization:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">DebugInitListener callbackObject = new DebugInitListener() {
    public void bulletDebugInit(Node physicsDebugRootNode) {
        AmbientLight ambient = new AmbientLight(aColor);
        physicsDebugRootNode.addLight(ambient);
        DirectionalLight sun = new DirectionalLight(direction, dColor);
        physicsDebugRootNode.addLight(sun);
    }
};
bulletAppState.setDebugInitListener(callbackObject);</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>BulletAppState</code> invokes a callback each time it generates a debug mesh.
You can use this callback to add texture coordinates to the mesh:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">DebugInitListener callbackObject = new DebugMeshInitListener() {
    public void debugMeshInit(Mesh debugMesh) {
        VertexBuffer pos = debugMesh.getBuffer(VertexBuffer.Type.Position);
        int numVertices = pos.getNumElements();
        FloatBuffer positions = (FloatBuffer) pos.getDataReadOnly();
        FloatBuffer uvs = BufferUtils.createFloatBuffer(2 * numVertices);
        // TODO: fill the uvs buffer with data
        debugMesh.setBuffer(VertexBuffer.Type.TexCoord, 2, uvs);
        uvs.flip();
    }
};
collisionObject.setDebugMeshInitListener(callbackObject);</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_an_introduction_to_physicsdumper"><a class="anchor" href="#_an_introduction_to_physicsdumper"></a>An introduction to PhysicsDumper</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following temporary statements could be used to dump
(to <code>System.out</code>) all collision objects in a <code>PhysicsSpace</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PhysicsDumper dumper = new PhysicsDumper();
dumper.dump(physicsSpace);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here is sample output for a space containing 2 rigid bodies and nothing else:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>PhysicsSoftSpace with 0 chars, 0 ghosts, 0 joints, 2 rigids, 0 softs, 0 vehicles
 bphase=DBVT grav[y=-30] timeStep[0.0166667 maxSS=4] listeners[c=0 cg=0 t=1]
 solver[SI iters=10 cfm=0 batch=128 splitImp[th=global erp=0.1] mode=WarmStart,VelocityDependent,SIMD,Cone]
 rayTest=SubSimplex,HeightfieldAccel
 SbwInfo grav[y=-30] offset=0 norm[xyz=0] water=0 air=1.2 maxDisp=1000
  Rigid Sta loc[y=-2] fric=0.5 rest=0.3
   Box he[x=20 y=2 z=20] marg=0.04
   with 0 ignores and 0 joints
  Rigid Dyn(mass=1) loc[x=2.31948 y=0.982135 z=-0.527906] orient[x=0.536 y=-0.536 z=-0.461 w=0.461] fric=0.5 rest=0.3
   grav[y=-30] NOTprotected ccd[mth=5 r=1.7296] damp[l=0.6 a=0.6] sleep[lth=0.1 ath=0.1 time=0.283333]
   v[x=-0.00411787 y=8.98242e-05 z=0.00317414] moms[x=1.51493 y=0.922524 z=1.23546] w[x=-0.00188829 y=-0.000811514 z=0.00821815]
   MultiSphere r[0.982132 0.982132 0.982132 0.982132] marg=0.04
   with 0 ignores and 0 joints</pre>
</div>
</div>
<div class="paragraph">
<p>2-space indentation indicates the hierarchy of spaces/objects/joints.
Single-space indentation indicates additional description
of the foregoing object.</p>
</div>
<div class="paragraph">
<p>To dump a <code>PhysicsSpace</code> to a text file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">PrintStream dumpStream = new PrintStream("dump.txt");
PhysicsDumper dumper = new PhysicsDumper(dumpStream);
dumper.dump(physicsSpace);</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_customizing_what_is_dumped"><a class="anchor" href="#_customizing_what_is_dumped"></a>Customizing what is dumped</h3>
<div class="paragraph">
<p>You can dump an entire <code>BulletAppState</code>, including its <code>PhysicsSpace</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">dumper.dump(bulletAppState);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can dump individual collision objects:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">dumper.dump(character);
dumper.dump(multiBodyCollider);
dumper.dump(ghostObject);
dumper.dump(rigidBody);
dumper.dump(softBody);</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can dump individual collision shapes:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">dumper.dump(collisionShape, "");</code></pre>
</div>
</div>
<div class="paragraph">
<p>When dumping a <code>PhysicsSpace</code>,
the default is to describe every collision object;
physics joints are counted but not described.
To describe the joints in each body, configure the dumper like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">dumper.setEnabled(DumpFlags.JointsInBodies, true); // default=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>To describe the motors in each joint, configure the dumper like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">dumper.setEnabled(DumpFlags.Motors, true); // default=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>To dump just the physics joints (no collision objects):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">dumper.setEnabled(DumpFlags.Pcos, false); // default=true
dumper.setEnabled(DumpFlags.JointsInSpaces, true); // default=false</code></pre>
</div>
</div>
<div class="paragraph">
<p>When dumping a <code>PhysicsSpace</code>, you can apply a filter
to restrict which physics objects are listed.
For instance, to dump only those physics objects that lack a user object:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">String indent = "";
BulletDebugAppState.DebugAppStateFilter noUser = new UserFilter(null);
dumper.dump(physicsSpace, indent, noUser);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Other dump flags can be set, for instance,
to describe the nodes or clusters in each soft body
or the child shapes in each compound collision shape.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="rbc.html">RigidBodyControl</a></span>
  <span class="next"><a href="character.html">Characters</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Page contents" data-levels="2">
  <div class="toc-menu" style="margin-top: 1rem;"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Copyright 2020 Stephen Gold</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
